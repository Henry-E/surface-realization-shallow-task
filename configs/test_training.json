{
    "experiment_info":
    {
        "exp_type": "config_tests",
        "run_name": "testing_train",
        "available_actions": ["create_source_and_target", "preprocess", "train"],
        "actions_to_take": ["create_source_and_target", "preprocess", "train"]
    },
    "create_source_and_target":
    [
       "python", "{root_dir}/modules/create_source_and_target.py",
       "-i", "en-ud-train.conll", "en-ud-dev.conll",
       "{root_dir}/data/synthetic/*/*filtered.conllu",
       "-o", "{root_dir}/experiments/src_and_tgt/{exp_type}/{src_and_tgt_sub_dir}",
       "--form_suggestions_file_name", "{root_dir}/inflection_dicts/lemma_form_dict_sorted.json",
       "--train_set_repeats", "1"
    ],
    "preprocess":
    [
        "python", "{opennmt_dir}/preprocess.py",
        "-train_src", "{root_dir}/experiments/src_and_tgt/{exp_type}/{src_and_tgt_sub_dir}/train.src",
        "-train_tgt", "{root_dir}/experiments/src_and_tgt/{exp_type}/{src_and_tgt_sub_dir}/train.tgt",
        "-valid_src", "{root_dir}/experiments/src_and_tgt/{exp_type}/{src_and_tgt_sub_dir}/dev.src",
        "-valid_tgt", "{root_dir}/experiments/src_and_tgt/{exp_type}/{src_and_tgt_sub_dir}/dev.tgt",
        "-save_data", "{root_dir}/experiments/preprocess/{exp_type}/{preprocess_sub_dir}/msr",
        "-dynamic_dict", 
        "-share_vocab", 
        "-shard_size", "125000",
        "-src_seq_length", "150",
        "-tgt_seq_length", "100",
        "-src_vocab", "{root_dir}/vocabs/srst/vocab_min_5_total_3726.txt",
        "-tgt_vocab", "{root_dir}/vocabs/srst/vocab_min_5_total_3726.txt",
        "-src_vocab_size", "3726",
        "-tgt_vocab_size", "3726"
    ],
    "train":
    [
        "python", "{opennmt_dir}/train.py",
        "-data", "{root_dir}/experiments/preprocess/{exp_type}/{preprocess_sub_dir}/msr",
        "-save_model", "{root_dir}/experiments/train/{exp_type}/{train_sub_dir}/msr",
        "--log_file", "{root_dir}/experiments/train/{exp_type}/{train_sub_dir}/msr.log.txt",
        "--gpu_ranks", "0", "1",
        "--world_size", "2",
        "--tensorboard",
        "--tensorboard_log_dir", "{root_dir}/experiments/tensorboard/{exp_type}/{tensorboard_sub_dir}",
        "--keep_checkpoint", "5",
        "--optim", "adam",
        "--learning_rate", "0.001",
        "--encoder_type", "brnn",
        "--batch_size", "32",
        "--share_embeddings",
        "--copy_attn",
        "--copy_attn_force",
        "--layers", "2",
        "--word_vec_size", "300",
        "--rnn_size", "900",
        "--report_every", "125",
        "--valid_steps", "125",
        "--save_checkpoint", "125",
        "--train_steps", "12500",
        "--start_decay_steps", "11000",
        "--decay_steps", "750"
    ]
}
